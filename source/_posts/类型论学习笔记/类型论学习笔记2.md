---
title: 类型论学习笔记2
comments: false
toc: true
donate: false
share: true
mathjax: true
date: 2025-05-12 19:12:01
categories: 类型论
tags: 
- 学习笔记
- Untyped Systems
cover:
---

# 前言

我所阅读的书是《Types and Programming Languages》。这是关于第五章的学习笔记。

# Untyped Lambda-Calculus

## Basics

这章主要是介绍 lambda calculus。在lambda calculus这个系统里，所有东西都是函数（function），输入，输入都是函数。

以下是 lambda calculus 的语法结构：

```
t ∷=        -- terms:
    x       -- variable
    λx.t    -- abstraction
    t t     -- application
```

如果以功能的角度用lisp来表示就会是这样：

``` lisp
x                       ;; x
(lambda (x) t)          ;; λx. t
(t t)                   ;; ((λx. t) λx. t)
                        ;; 假设 t 是 λx. t
```

用lean 4的语法来表达它的AST就会长这样：

``` lean4
inductive Term where
  | var : String → Term           -- x
  | abs : String → Term → Term    -- λx.t
  | app : Term → Term → Term      -- t t

deriving Repr

def var := Term.var "x"
def abs := Term.abs "x" (Term.var "t")
def app : Term := Term.app abs abs

def toString : Term → String
  | Term.var x     => x
  | Term.abs x t   => "λ" ++ x ++ ". " ++ toString t
  | Term.app t1 t2 => "((" ++ toString t1 ++ ") " ++ toString t2 ++ ")"

#eval toString var      -- x
#eval toString abs      -- λx. t
#eval toString app      -- ((λx. t) λx. t)
```